# Azure AD Configuration
tenant_id = "your-tenant-id-here"  # Get from Azure Portal -> Azure Active Directory -> Properties

# Application Configuration
application_name = "my-enterprise-app"
sign_in_audience = "AzureADMyOrg"  # Options: AzureADMyOrg, AzureADMultipleOrgs, AzureADandPersonalMicrosoftAccount, PersonalMicrosoftAccount

# Web Application Settings
web_settings = {
  redirect_uris = [
    "https://localhost:3000/auth/callback",
    "https://myapp.example.com/auth/callback",
    "https://myapp.example.com/signin-oidc"
  ]
  logout_url    = "https://myapp.example.com/signout-oidc"
  home_page_url = "https://myapp.example.com"
}

# Application Roles
app_roles = [
  {
    display_name = "Administrator"
    description  = "Application administrators with full access"
    value        = "Admin"
    allowed_member_types = ["User"]
  },
  {
    display_name = "Manager"
    description  = "Managers with elevated permissions"
    value        = "Manager"
    allowed_member_types = ["User"]
  },
  {
    display_name = "User"
    description  = "Standard application users"
    value        = "User"
    allowed_member_types = ["User"]
  }
]

# API Permissions (Microsoft Graph)
required_resource_access = [
  {
    resource_app_id = "00000003-0000-0000-c000-000000000000" # Microsoft Graph
    resource_access = [
      {
        id   = "e1fe6dd8-ba31-4d61-89e7-88639da4683d" # User.Read
        type = "Scope"
      },
      {
        id   = "b340eb25-3456-403f-be2f-af7a0d370277" # User.ReadBasic.All
        type = "Scope"
      },
      {
        id   = "37f7f235-527c-4136-accd-4a02d197296e" # openid
        type = "Scope"
      },
      {
        id   = "14dad69e-099b-42c9-810b-d002981feec1" # profile
        type = "Scope"
      },
      {
        id   = "64a6cdd6-aab1-4aaf-94b8-3cc8405e90d0" # email
        type = "Scope"
      }
    ]
  }
]

# Azure AD Groups
groups = {
  "app-admins" = {
    display_name     = "Enterprise App Administrators"
    description      = "Administrators for the enterprise application with full access"
    security_enabled = true
    mail_enabled     = false
    owners           = []
    members          = []
  }
  "app-managers" = {
    display_name     = "Enterprise App Managers"
    description      = "Managers for the enterprise application with elevated permissions"
    security_enabled = true
    mail_enabled     = false
    owners           = []
    members          = []
  }
  "app-users" = {
    display_name     = "Enterprise App Users"
    description      = "Standard users for the enterprise application"
    security_enabled = true
    mail_enabled     = false
    owners           = []
    members          = []
  }
}

# Tags
tags = {
  Environment = "development"
  Project     = "my-enterprise-app"
  Team        = "engineering"
  ManagedBy   = "terraform"
} 